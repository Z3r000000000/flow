import{_ as l}from"./sidebar-aae7d28d.js";import{_ as n,o as r,c as a,b as h,a as e,F as c,l as i,t as d,p as b,j as p}from"./index-748fe450.js";const _=t=>(b("data-v-a16a7550"),t=t(),p(),t),m={class:"order"},u={key:0,class:"order-table"},y=_(()=>e("h2",{class:"order-table__title"},"Заявки",-1)),f={class:"order-table__table"},k=_(()=>e("thead",{class:"order-table__thead"},[e("tr",null,[e("th",{class:"order-table__th"},"Имя"),e("th",{class:"order-table__th"},"Телефон"),e("th",{class:"order-table__th"},"Описание"),e("th",{class:"order-table__th"},"Del")])],-1)),v={class:"order-table__tbody"},O={class:"order-table__td"},w={class:"order-table__td"},g={class:"order-table__td"},E={class:"order-table__td"},I=["onClick"],S={key:1,class:"no-orders"},V=_(()=>e("p",null,"Нет заявок",-1)),j=[V],B={name:"OrderTable",data(){return{orders:[]}},mounted(){this.fetchOrders()},methods:{async fetchOrders(){try{const t=await fetch("https://8962a1eb5edc700e.mokky.dev/order");this.orders=await t.json()}catch(t){console.error("Ошибка при получении заявок:",t)}},async deleteOrder(t){try{await fetch(`https://8962a1eb5edc700e.mokky.dev/order/${t}`,{method:"DELETE"}),this.fetchOrders()}catch(s){console.error("Ошибка при удалении заказа:",s)}}}},D=Object.assign(B,{setup(t){return(s,$)=>(r(),a(c,null,[h(l),e("div",m,[s.orders.length>0?(r(),a("div",u,[y,e("table",f,[k,e("tbody",v,[(r(!0),a(c,null,i(s.orders,o=>(r(),a("tr",{key:o.id,class:"order-table__row"},[e("td",O,d(o.name),1),e("td",w,d(o.phone),1),e("td",g,d(o.description),1),e("td",E,[e("button",{class:"order-table__delete-btn",onClick:C=>s.deleteOrder(o.id)},"Удалить",8,I)])]))),128))])])])):(r(),a("div",S,j))])],64))}}),N=n(D,[["__scopeId","data-v-a16a7550"]]);export{N as default};
